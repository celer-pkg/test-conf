diff --git a/configure.ac b/configure.ac
index 816bfd6..38a64c8 100644
--- a/configure.ac
+++ b/configure.ac
@@ -1,5 +1,7 @@
 dnl Process this with autoconf to create configure
 
+m4_pattern_allow([LT_SYS_SYMBOL_USCORE])
+
 AC_PREREQ([2.71])
 
 AC_INIT([libffi],[3.4.6],[http://github.com/libffi/libffi/issues])
@@ -13,10 +15,12 @@ case "${host}" in
     LDFLAGS=`echo $LDFLAGS | sed "s/\-B[^ ]*libgloss\/frv\///"`\ -B`pwd`/../libgloss/frv/
     ;;
 esac
-
 AX_ENABLE_BUILDDIR
 
 AM_INIT_AUTOMAKE
+AC_CONFIG_MACRO_DIRS([m4])
+AM_PROG_AR
+LT_INIT
 
 # The same as in boehm-gc and libstdc++. Have to borrow it from there.
 # We must force CC to /not/ be precious variables; otherwise
@@ -40,7 +44,6 @@ AM_PROG_AS
 AM_PROG_CC_C_O
 AC_PROG_EGREP
 LT_INIT
-AC_CONFIG_MACRO_DIR([m4])
 
 AC_CHECK_TOOL(READELF, readelf)
 
